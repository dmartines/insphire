{"version":3,"sources":["meteor://ðŸ’»app/client/login.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/login.js","sourcesContent":["Template.login.onRendered(function() {\n\n    console.log(\"Current user\");\n\n    /*window.fbAsyncInit = function() {\n\n        FB.init({\n            appId      : '510246152469337',\n            xfbml      : true,\n            version    : 'v2.5'\n        });\n\n        FB.getLoginStatus(function(response) {\n            statusChangeCallback(response);\n        });\n\n    };\n    (function(d, s, id){\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) {return;}\n        js = d.createElement(s); js.id = id;\n        js.src = \"//connect.facebook.net/en_US/sdk.js\";\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));*/\n\n});\n\n\n\nTemplate.login.events({\n    'click #facebook-login': function(event) {\n        Meteor.loginWithFacebook({}, function(err){\n            if (err) {\n                throw new Meteor.Error(\"Facebook login failed\");\n            }\n        });\n    },\n \n    'click #logout': function(event) {\n        Meteor.logout(function(err){\n            if (err) {\n                throw new Meteor.Error(\"Logout failed\");\n            }\n        })\n    }\n});\n\n\nfunction statusChangeCallback(response) {\n    console.log('statusChangeCallback');\n    console.log(response);\n    // The response object is returned with a status field that lets the\n    // app know the current login status of the person.\n    // Full docs on the response object can be found in the documentation\n    // for FB.getLoginStatus().\n    if (response.status === 'connected') {\n      // Logged into your app and Facebook.\n        FB.api('/me', {fields: 'last_name'}, function(response) {\n            console.log(response);\n        });\n    } else if (response.status === 'not_authorized') {\n      // The person is logged into Facebook, but not your app.\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into this app.';\n    } else {\n      // The person is not logged into Facebook, so we're not sure if\n      // they are logged into this app or not.\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into Facebook.';\n    }\n  }"]}